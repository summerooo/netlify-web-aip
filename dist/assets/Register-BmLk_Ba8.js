import{y as b,r as N,l as P,z as k,A as R,B as t,R as o,J as s,W as z,al as n,O as p,u,aB as C}from"./vendor-D5A_PLSQ.js";import{u as B,m as U,l as c,E as _}from"./ui-DUo8Dfqk.js";import{u as h}from"./index-1yu-MD6X.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./supabase-C1h6x9Gt.js";const A={class:"register-container"},E={class:"register-card"},F={class:"register-footer"},I=b({__name:"Register",setup(S){const w=C(),f=h(),d=N(),r=P({fullName:"",email:"",password:"",confirmPassword:""}),V={fullName:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,message:"姓名长度不能少于2位",trigger:"blur"},{max:20,message:"姓名长度不能超过20位",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(m,e,l)=>{e!==r.password?l(new Error("两次输入的密码不一致")):l()},trigger:"blur"}]},g=async()=>{d.value&&await d.value.validate(async m=>{if(m)try{await f.signUp(r.email,r.password,r.fullName),_.success("注册成功，请查看邮箱确认账户"),w.push("/login")}catch(e){_.error(e.message||"注册失败")}})};return(m,e)=>{const l=n("el-input"),i=n("el-form-item"),v=n("el-button"),x=n("el-form"),y=n("router-link");return R(),k("div",A,[t("div",E,[e[7]||(e[7]=t("div",{class:"register-header"},[t("h1",null,"注册 AIP"),t("p",null,"创建您的AI项目管理账户")],-1)),o(x,{ref_key:"registerFormRef",ref:d,model:r,rules:V,onSubmit:z(g,["prevent"])},{default:s(()=>[o(i,{prop:"fullName"},{default:s(()=>[o(l,{modelValue:r.fullName,"onUpdate:modelValue":e[0]||(e[0]=a=>r.fullName=a),placeholder:"姓名",size:"large","prefix-icon":u(B)},null,8,["modelValue","prefix-icon"])]),_:1}),o(i,{prop:"email"},{default:s(()=>[o(l,{modelValue:r.email,"onUpdate:modelValue":e[1]||(e[1]=a=>r.email=a),type:"email",placeholder:"邮箱地址",size:"large","prefix-icon":u(U)},null,8,["modelValue","prefix-icon"])]),_:1}),o(i,{prop:"password"},{default:s(()=>[o(l,{modelValue:r.password,"onUpdate:modelValue":e[2]||(e[2]=a=>r.password=a),type:"password",placeholder:"密码",size:"large","prefix-icon":u(c),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(i,{prop:"confirmPassword"},{default:s(()=>[o(l,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=a=>r.confirmPassword=a),type:"password",placeholder:"确认密码",size:"large","prefix-icon":u(c),"show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),o(i,null,{default:s(()=>[o(v,{type:"primary",size:"large",loading:u(f).loading,onClick:g,style:{width:"100%"}},{default:s(()=>[...e[4]||(e[4]=[p(" 注册 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),t("div",F,[t("p",null,[e[6]||(e[6]=p("已有账号？ ",-1)),o(y,{to:"/login",class:"link"},{default:s(()=>[...e[5]||(e[5]=[p("立即登录",-1)])]),_:1})])])])])}}}),D=q(I,[["__scopeId","data-v-c523eefc"]]);export{D as default};
